import"./style-CI5i84II.js";function B(a,n,l,s,i,t){let e=0,r=!1;function c(){if(r){if(a.textContent=n.substring(0,e-1),e--,e===0&&(r=!1,typeof t=="function")){setTimeout(t,700);return}}else if(a.textContent=n.substring(0,e+1),e++,e===n.length){r=!0,setTimeout(c,s);return}setTimeout(c,r?i:l)}c()}window.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("animation");function n(){B(a,"Banking Algorithms, Uncovered.",100,1500,50,n)}n();const l=document.getElementById("mortgage-form");document.getElementById("show-form-btn").addEventListener("click",()=>{const s=document.getElementById("form-container");s.style.display="block";const i=document.getElementById("start-form");i.style.display="none"}),l.addEventListener("submit",s=>{s.preventDefault();const i=new FormData(l),t={};i.forEach((o,F)=>{t[F]=o.toString()}),console.log("Form values:",t);const e=parseInt(t.units),r=t.prop_type,c=t.metro,g=parseInt(t["people-responsible"]),y=parseFloat(t["credit-score"]),h=t["first-property"],_=t["property-purpose"],p=parseFloat(t.income),b=parseFloat(t.debt),u=p?b/p*100:0;if(u>100){alert("Your monthly debt cannot be greater than your monthly income.");return}const m=parseFloat(t.prop_value),d=parseFloat(t["new-mortgage-value"]),f=m?d/m*100:0;if(f>100){alert("Requested loan size cannot exceed the property value.");return}const I=parseFloat(t["int-rt"]),v=parseInt(t.length),E=parseInt(t.insurance),w={fico:y,flag_fthb:h,mi_pct:E,cnt_units:e,occpy_sts:_,cltv:f,dti:u,orig_upb:d,int_rt:I,prop_type:r,loan_purpose:t["mortgage-purpose"],orig_loan_term:v,cnt_borr:g,metro:c==="True"};fetch("https://default-risk.onrender.com/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then(o=>o.json()).then(o=>{sessionStorage.setItem("userInputs",JSON.stringify(t)),console.log("Prediction:",o.default_prediction),o.default_prediction===1?window.location.href="fail.html":window.location.href="pass.html"}).catch(o=>{console.error("Error calling prediction API:",o)})})});
